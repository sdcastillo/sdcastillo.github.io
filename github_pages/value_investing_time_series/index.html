<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Anomaly Detection App</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: #2c3e50;
            color: white;
            padding: 30px 20px;
            margin-bottom: 20px;
        }
        
        header h1 {
            margin-bottom: 10px;
        }
        
        .content {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .content h2 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .content p {
            margin-bottom: 15px;
        }
        
        .examples {
            background-color: #f8f9fa;
            padding: 15px;
            border-left: 4px solid #3498db;
            margin: 20px 0;
        }
        
        .examples ul {
            margin-left: 20px;
        }
        
        .examples li {
            margin-bottom: 10px;
        }
        
        .app-container {
            width: 100%;
            height: 800px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Stock Price Anomaly Detection</h1>
            <p>Time Series Analysis for Financial Markets</p>
            <p style="margin-top: 10px; font-style: italic;">Author: Sam Castillo</p>
        </div>
    </header>
    
    <div class="container">
        <div class="content">
            <h2>About This Project</h2>
            <p>I made this app originally when I was a college student at UMass Amherst, then kept refining it.</p>
            
            <p>This app identifies sudden shifts in stock prices by fitting ARIMA models. Once a model has been fit, outlying price jumps are determined by the absolute value of the standardized residuals of the model. A sensitivity threshold is determined by the user. Any stock listed on U.S. exchanges can be tested for extreme deviations for as long as it has been available. For each abnormal date detected, additional stock information for a two-month window around this date is provided.</p>
            
            <div class="examples">
                <strong>Specific examples to try:</strong>
                <ul>
                    <li>Apple (AAPL) from 2013-05-06 to 2013-11-14 as they release their third quarter results after the release of the iPhone 5.</li>
                    <li>Goldman Sachs (GS) from 2008-01 to 2009-01 during the worst of the recession</li>
                    <li>S&P 500 Index (^GSPC) from 2016-05-10 to 2016-12-30 right after the November election</li>
                </ul>
            </div>
            
            <h2>Technical Details</h2>
            <p>The time series is first transformed with a natural logarithm to stabilize the variance, and then an ARIMA model is fitted with the <code>auto.arima</code> function from the <code>forecast</code> package. A fractional differencing algorithm produces an approximately stationary time series to then fit with an ARMA model. This is found by looking over all possible combinations of AR and MA coefficients and ranking by AIC and BIC.</p>
        </div>
        
        <div class="app-container">
            <iframe src="https://samdc.shinyapps.io/value-investing-app/" 
                    title="Value Investing App"
                    allowfullscreen>
            </iframe>
        </div>
    </div>
</body>
</html>
